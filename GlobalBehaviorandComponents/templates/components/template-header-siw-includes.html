<!-- load authjs regardless of which signin method we're using -->
<script src="https://global.oktacdn.com/okta-auth-js/6.6.2/okta-auth-js.min.js" 
    integrity="sha384-eGW79wu6ODV5hgJBoFjDpAJUKKHH2exkdbYCxI0EjWYUjhJQVik174pZiA+04mvW"
    crossorigin="anonymous"></script>

{% if config.settings.app_loginmethod == 'oie-widget' or config.settings.app_loginmethod == 'standard-widget' %}
<script src="https://global.oktacdn.com/okta-signin-widget/6.4.2/js/okta-sign-in.min.js" 
    integrity="sha384-eSGA+lNDZQF0uJ1fzypETV2eSDf1D6aZCCMVo3gnmYO/4JiJknCTXSVYblQuardq"
    crossorigin="anonymous"></script>
<link href="https://global.oktacdn.com/okta-signin-widget/6.4.2/css/okta-sign-in.min.css"
    type="text/css" rel="stylesheet" />

<!-- SIW helper functions -->
<script src="/static/js/siw.js" type="text/javascript"></script>

<style type="text/css">
    /* SIW CSS overrides */
    #okta-sign-in.auth-container .button-primary {
        background: -webkit-gradient(linear, left top, left bottom,
            from("{{config.settings.app_primary_color}}"),
            to("{{config.settings.app_primary_color}}"));
        background: -webkit-linear-gradient("{{config.settings.app_primary_color}}",
            "{{config.settings.app_primary_color}}");
        background: linear-gradient("{{config.settings.app_primary_color}}",
            "{{config.settings.app_primary_color}}");
        background-color: "{{config.settings.app_primary_color}}";
        border-color: "{{config.settings.app_primary_color}} {{config.settings.app_primary_color}} {{config.settings.app_primary_color}}";
    }

    #okta-sign-in.auth-container .button-primary:active,
    #okta-sign-in.auth-container .button-primary:focus,
    #okta-sign-in.auth-container .button-primary:hover {
        background: -webkit-gradient(linear, left top, left bottom,
            from("{{config.settings.app_primary_color}}"),
            to("{{config.settings.app_primary_color}}"));
        background: -webkit-linear-gradient("{{config.settings.app_primary_color}}",
            "{{config.settings.app_primary_color}}");
        background: linear-gradient("{{config.settings.app_primary_color}}",
            "{{config.settings.app_primary_color}}");
        background-color: "{{config.settings.app_primary_color}}";
        border-color: "{{config.settings.app_primary_color}} {{config.settings.app_primary_color}} {{config.settings.app_primary_color}}";
    }

    #okta-sign-in.auth-container .okta-form-input-field.focused-input {
        border-color: "{{config.settings.app_primary_color}}";
    }

    #okta-sign-in .focused-input,
    #okta-sign-in .link.help:focus {
        box-shadow: "0 0 8px {{config.settings.app_secondary_color}}";
    }

    #okta-sign-in .registration-container .registration-link {
        margin-left: 10px;
        color: "{{config.settings.app_primary_color}}";
    }

    #okta-sign-in.auth-container .button.button-primary.link-button-disabled {
        color: #fff;
        background-color: "{{config.settings.app_primary_color}}";
        border-color: "{{config.settings.app_primary_color}}";
        background-image: none;
        box-shadow: none
    }

    /* OIE fix */
    #okta-sign-in .siw-main-view .clearfix:after,
    #okta-sign-in .siw-main-view .clearfix:before {
        height: 0 !important;
    }
</style>
{% endif %}

{% if config.settings.app_loginmethod == 'oie-widget' or config.settings.app_loginmethod == 'hosted-widget' %}
    {% include '//components/template-singlesignon-oie.html' %}
{% elif config.settings.app_loginmethod == 'standard-widget' %}
    {% include '//components/template-singlesignon.html' %}
{% endif %}