<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>{{ config.settings.app_name }}</title>
  <link href="https://cdn-zartan.s3.us-east-2.amazonaws.com/static/css/styles.css" rel="stylesheet" />
  <link href="/styles" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn-zartan.s3.us-east-2.amazonaws.com/static/css/aos.css" />
  {% if config.settings.app_favicon|length > 0 %}
  <link rel="icon" type="image/x-icon" href="{{config.settings.app_favicon}}" />
  {% else %}
  <link rel="icon" type="image/x-icon" href="https://cdn-zartan.s3.us-east-2.amazonaws.com/static/img/favicon.ico" />
  {% endif %}
  <script data-search-pseudo-elements defer src="https://cdn-zartan.s3.us-east-2.amazonaws.com/static/js/all.min.js"
    crossorigin="anonymous"></script>
  <script src="https://cdn-zartan.s3.us-east-2.amazonaws.com/static/js/feather.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn-zartan.s3.us-east-2.amazonaws.com/static/js/jquery.min.js"></script>

  <!-- load authjs regardless of which signin method we're using -->
  <script src="https://global.oktacdn.com/okta-auth-js/{{config.okta_auth_js_version}}/okta-auth-js.min.js"
    type="text/javascript"></script>

  {% if config.settings.app_loginmethod == 'oie-widget' or config.settings.app_loginmethod == 'standard-widget' %}
  <script
    src="https://global.oktacdn.com/okta-signin-widget/{{config.okta_siw_version}}/js/okta-sign-in.min.js"
    type="text/javascript"></script>
  <link
    href="https://global.oktacdn.com/okta-signin-widget/{{config.okta_siw_version}}/css/okta-sign-in.min.css"
    type="text/css" rel="stylesheet" />

  <!-- SIW helper functions -->
  <script src="/static/js/siw.js" type="text/javascript"></script>

  <style type="text/css">
    /* SIW CSS overrides */
    #okta-sign-in.auth-container .button-primary {
      background: -webkit-gradient(linear, left top, left bottom,
        from("{{config.settings.app_primary_color}}"),
        to("{{config.settings.app_primary_color}}"));
      background: -webkit-linear-gradient("{{config.settings.app_primary_color}}",
        "{{config.settings.app_primary_color}}");
      background: linear-gradient("{{config.settings.app_primary_color}}",
        "{{config.settings.app_primary_color}}");
      background-color: "{{config.settings.app_primary_color}}";
      border-color: "{{config.settings.app_primary_color}} {{config.settings.app_primary_color}} {{config.settings.app_primary_color}}";
    }

    #okta-sign-in.auth-container .button-primary:active,
    #okta-sign-in.auth-container .button-primary:focus,
    #okta-sign-in.auth-container .button-primary:hover {
      background: -webkit-gradient(linear, left top, left bottom,
        from("{{config.settings.app_primary_color}}"),
        to("{{config.settings.app_primary_color}}"));
      background: -webkit-linear-gradient("{{config.settings.app_primary_color}}",
        "{{config.settings.app_primary_color}}");
      background: linear-gradient("{{config.settings.app_primary_color}}",
        "{{config.settings.app_primary_color}}");
      background-color: "{{config.settings.app_primary_color}}";
      border-color: "{{config.settings.app_primary_color}} {{config.settings.app_primary_color}} {{config.settings.app_primary_color}}";
    }

    #okta-sign-in.auth-container .okta-form-input-field.focused-input {
      border-color: "{{config.settings.app_primary_color}}";
    }

    #okta-sign-in .focused-input,
    #okta-sign-in .link.help:focus {
      box-shadow: "0 0 8px {{config.settings.app_secondary_color}}";
    }

    #okta-sign-in .registration-container .registration-link {
      margin-left: 10px;
      color: "{{config.settings.app_primary_color}}";
    }

    #okta-sign-in.auth-container .button.button-primary.link-button-disabled {
      color: #fff;
      background-color: "{{config.settings.app_primary_color}}";
      border-color: "{{config.settings.app_primary_color}}";
      background-image: none;
      box-shadow: none
    }

    /* OIE fix */
    #okta-sign-in .siw-main-view .clearfix:after,
    #okta-sign-in .siw-main-view .clearfix:before {
      height: 0 !important;
    }
  </style>
  {% endif %}

  {% if config.settings.app_loginmethod == 'oie-widget' or config.settings.app_loginmethod == 'hosted-widget' %}
    {% include '//components/template-singlesignon-oie.html' %}
  {% elif config.settings.app_loginmethod == 'standard-widget' %}
    {% include '//components/template-singlesignon.html' %}
  {% endif %}

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178628454-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    var nusername = '';
    {% if user_info is defined %}
    nusername = '{{ user_info.email }}';
    {% endif %}
    var gtagConfig = {
      'user_id': nusername,
      'custom_map': {
        'dimension1': 'username',
        'dimension2': 'zartantype',
        'dimension3': 'companyname',
        'dimension4': 'loginwidget'
      }
    }
    gtag('config', 'UA-178628454-2', gtagConfig);

    gtag('event', 'udpinfo', {
      'event_label': 'UDP Update',
      'username': nusername,
      'zartantype': '{{ config.settings.app_template  }}',
      'companyname': '{{ config.settings.app_name  }}',
      'loginwidget': '{{ config.settings.app_loginmethod  }}'
    });
  </script>
</head>